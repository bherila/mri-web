"use strict";(self.webpackChunkmri_web=self.webpackChunkmri_web||[]).push([[506],{6457:function(e,t,n){n.d(t,{m:function(){return p}});var a=n(5540),r=n(6540),i=n(6311),s=n(6513),o=n(6836),l=n(9846),c=n(4745),u=n.n(c),m=n(4658),d=n(4414),p=function(e){function t(t,n){var a,r=(a=e.call(this,t,n)||this).props.selectedSlotAvailabilityTime.linkedAppointment;return r&&(r.serviceType=JSON.stringify(JSON.parse(r.serviceType||"{}"))),a.state=r||{},a}(0,a.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;(new i.u8).serviceTypesGET({locationId:""}).then((function(t){return e.setState({scanTypes:t.value||[]})}))},n.UNSAFE_componentWillReceiveProps=function(e){var t=e.selectedSlotAvailabilityTime;t!==this.props.selectedSlotAvailabilityTime&&this.setState(t.linkedAppointment||{})},n.renderSafetyAnswers=function(){if(!this.props.selectedSlotAvailabilityTime)return console.log("!this.props.selectedSlotAvailabilityTime"),!1;if(!this.props.selectedSlotAvailabilityTime.linkedAppointment)return console.log("!this.props.selectedSlotAvailabilityTime.linkedAppointment"),!1;var e=this.props.selectedSlotAvailabilityTime.linkedAppointment.surveyDataJson,t=!(0,l.isEmpty)(e),n=JSON.parse(e||"{}"),a={"Cardiac pacer":n["a cardiac pacemaker?"]?"yes":"no",Stimulator:n["a spinal stimulator?"]?"yes":"no","Brain implant":!!n["a brain neurostimulator?"],"Loop recorder":!!n["a loop recorder?"],"Defibrillator implant":!!n["implanted defibrillator (also called ICD or AICD)?"],"Other implants":n.implants?"yes:"+n.currentImplant||0:"no","Metal in eye":n.MetalInEye?"yes":"no","Metal removed":n.MetalInEye?n["Was it completely removed?"]?"yes":"no":"N/A","claustrophobic?":!!n["Are you claustrophobic?"],"Contrast allergy":n["Are you allergic to IV contrast or MRI contrast?"]?"yes":"no","kidney disease?":!!n["Do you have any kidney disease?"],"diabetes?":!!n["Do you have diabetes?"],"pain?":!!n.pain,"injury?":!!n.injury,"cancer?":!!n.cancer},i=Object.keys(a);return r.createElement(r.Fragment,null,r.createElement("div",{style:{color:t?"black":"red"}},"Safety form completed: ",t?"yes":"no"),r.createElement("div",{className:"qa-container",style:{opacity:t?1:.5}},i.map((function(e){return r.createElement("div",{key:e,className:"qa-item"},r.createElement("div",{className:"qa-label"},e),r.createElement("div",{className:"qa-answer"},"boolean"==typeof a[e]?!0===a[e]?"yes":"no":a[e]))}))),r.createElement("div",{style:{opacity:t?1:.5}},this.renderSafetyFormTable()))},n.field=function(e,t,n,a){return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:e,className:"flexlabel",style:{textAlign:"right"}},t," "),r.createElement("input",{type:"text",className:"flexinput w-input",maxLength:256,name:e,"data-name":e,id:e,value:n||"",onChange:function(e){return a(e.currentTarget.value)}}))},n.render=function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"centered"},r.createElement("select",{onChange:function(t){return e.setState({serviceType:t.currentTarget.value})},value:this.state.serviceType},d.v.map((function(e){var t=JSON.stringify(e);return r.createElement("option",{key:t,value:t},e.name," ",e.contrast," (",e.time,")")})))),r.createElement("button",{onClick:function(t){return e.pickNewTime(t)},className:"link centered"},this.state.rowKey),r.createElement("div",{className:"inputrow"},this.field("first","First",this.state.firstName,(function(t){return e.setState({firstName:t})})),this.field("last","Last",this.state.lastName,(function(t){return e.setState({lastName:t})})),this.field("dob","DOB",this.state.birthday,(function(t){return e.setState({birthday:t})}))),r.createElement("div",{className:"inputrow"},this.field("phone","Phone",this.state.phone,(function(t){return e.setState({phone:t})})),this.field("Email","Email",this.state.email,(function(t){return e.setState({email:t})}))),r.createElement("div",{className:"inputrow"},this.field("Address1","Address1",this.state.address1,(function(t){return e.setState({address1:t})})),this.field("Address2","Address2",this.state.address2,(function(t){return e.setState({address2:t})})),this.field("City","City",this.state.city,(function(t){return e.setState({city:t})})),this.field("State","State",this.state.state,(function(t){return e.setState({state:t})})),this.field("Zip","Zip",this.state.zip,(function(t){return e.setState({zip:t})}))),r.createElement("hr",null),r.createElement("div",{className:"inputrow"},this.field("doctorName","doctorName",this.state.doctorName,(function(t){return e.setState({doctorName:t})})),this.field("doctorPhone","doctorPhone",this.state.doctorPhone,(function(t){return e.setState({doctorPhone:t})})),"View order image below"),r.createElement("hr",null),r.createElement("div",{className:"inputrow"},this.field("insuranceCarrier","insuranceCarrier",this.state.insuranceCarrier,(function(t){return e.setState({insuranceCarrier:t})})),this.field("insuranceGroupNumber","insuranceGroupNumber",this.state.insuranceGroupNumber,(function(t){return e.setState({insuranceGroupNumber:t})})),this.field("insurancePolicyNumber","insurancePolicyNumber",this.state.insurancePolicyNumber,(function(t){return e.setState({insurancePolicyNumber:t})}))),r.createElement("hr",null),this.renderSafetyAnswers(),r.createElement("hr",null),r.createElement("div",{className:"centered"},r.createElement("button",{type:"button",className:"button w-button",onClick:function(t){return e.doUpdate(t)}},"Update"),r.createElement("button",{type:"button",className:"button w-button",onClick:function(t){return e.doPrint(t)}},"Print Data"),r.createElement("button",{type:"button",className:"button w-button",onClick:function(t){return e.doCancel(t)}},"Nevermind")),this.renderTimePickModal(),r.createElement("hr",null),r.createElement("div",{className:"inputrow"},r.createElement("img",{style:{maxWidth:"700px",maxHeight:"500px"},src:"https://mrischedba06.blob.core.windows.net/uploads/"+this.state.orderImageUrl})),r.createElement("div",{className:"inputrow"},r.createElement("img",{style:{maxWidth:"700px",maxHeight:"500px"},src:"https://mrischedba06.blob.core.windows.net/uploads/"+this.state.insuranceFrontUrl})),r.createElement("div",{className:"inputrow"},r.createElement("img",{style:{maxWidth:"700px",maxHeight:"500px"},src:"https://mrischedba06.blob.core.windows.net/uploads/"+this.state.insuranceBackUrl})),r.createElement("hr",null))},n.doUpdate=function(e){var t=this;e.preventDefault(),(new i.u8).appointmentHandlerPOST({authToken:(0,s.c)(),locationId:"",req:(0,o.A)(this.state),search:"",withContrast:!1}).then((function(e){e.success?t.props.onConfirm instanceof Function&&t.props.onConfirm():alert(e.message||"Error")}))},n.doPrint=function(e){e.preventDefault(),window.print()},n.doCancel=function(e){e.preventDefault(),this.props.onCancel instanceof Function&&this.props.onCancel()},n.renderTimePickModal=function(){var e=this;return this.state.isPickTime&&r.createElement(u(),{isOpen:!0,onRequestClose:function(){return e.setState({isPickTime:!1})},className:"modal-content-full animated fadeInUp",overlayClassName:"modal-wrapper"},r.createElement("div",{className:"centered white-box"},r.createElement(m.L,{scan:{contrast:this.state.serviceType||"",name:this.state.serviceType||"Unknown",name2:"",name3:"",name4:"",time:30},onPick:function(t){return e.setTime(t)}})))},n.setTime=function(e){var t=this;if("string"==typeof e.slotId){var n=(0,o.A)(this.state);this.setState({partitionKey:e.slotId.split(" ")[1],rowKey:e.slotId},(function(){(new i.u8).appointmentHandlerPOST({authToken:(0,s.c)(),locationId:"",req:(0,o.A)(t.state),search:"",withContrast:!1}).then((function(e){e.success&&(new i.u8).appointmentHandlerDELETE({authToken:(0,s.c)(),req:n}).then((function(e){e.success?alert("Time updated, you will need to refresh the appointment list to see the new appointment."):alert("Failed to release old appointment: "+e.message)}))}))}))}else alert("No slotId was specified!")},n.pickNewTime=function(e){e&&e.preventDefault(),this.setState({isPickTime:!0})},n.renderSafetyFormTable=function(){var e=JSON.parse(this.state.surveyDataJson||"{}");return r.createElement("table",null,r.createElement("tbody",null,Object.keys(e).map((function(t){return!(h.indexOf(t)>-1)&&r.createElement("tr",{key:t},r.createElement("td",null,t),r.createElement("td",null,"boolean"==typeof e[t]?!0===e[t]?r.createElement("span",{style:{color:"red",fontWeight:"bold"}},"Yes"):"No":e[t].toString()))}))))},t}(r.Component),h=["fname","lname","email","phone","answers","implants","currentImplant","haveOrder","scan","overrideSafetyWarning","height","weight","doctorName","doctorContact","insFront","insBack","mriOrder","carrierNumber","groupNumber","policyNumber","timeSlot","err","dob","address1","address2","city","state","zip","optedIn","validationResult","implanted defibrillator (also called ICD or AICD)?","a cardiac pacemaker?","a brain neurostimulator?","a spinal stimulator?","neurostimulator","a loop recorder?","defibrillatorImplant","implants","MetalInEye","Was it completely removed?","Are you claustrophobic?","injury","cancer","pain","Are you allergic to IV contrast or MRI contrast?","Do you have any kidney disease?","Do you have diabetes?"]},4658:function(e,t,n){n.d(t,{L:function(){return c}});var a=n(5540),r=n(6540),i=n(6311),s=n(9812),o=n(4745),l=n.n(o),c=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).state={err:"",offset:0,total:14,qna:s.e.loadState(),selectedTime:null,times:[],showModal:!1},a}(0,a.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;(new i.u8).timeSlotsGET({withContrast:"with and without contrast"===this.props.scan.contrast,locationId:""}).then((function(t){t.value?e.setState({times:t.value||[],total:t.value.length||0,qna:s.e.loadState()}):e.setState({err:t.message||"Error",qna:s.e.loadState()})}),(function(t){return e.setState({err:t,qna:s.e.loadState()})}))},n.UNSAFE_componentWillReceiveProps=function(e,t){this.setState({offset:0}),this.componentDidMount()},n.renderModal=function(){var e=this;return r.createElement(l(),{isOpen:this.state.showModal,className:"modal-content animated fadeInUp",overlayClassName:"modal-wrapper"},r.createElement("p",null,r.createElement("b",null,"The time you selected is tomorrow.")),r.createElement("p",null,"We won't have time to obtain prior authorization from your insurance carrier. If you aren't using insurance, this won't be a problem."),r.createElement("p",null,"Are you sure you want to select this time?"),r.createElement("p",null,r.createElement("button",{type:"button",className:"button w-button",onClick:function(){return e.pickTime(e.state.selectedTime,!1)}},"Yes, continue"),r.createElement("button",{type:"button",className:"button w-button",onClick:function(){return e.setState({showModal:!1})}},"No, change time")))},n.render=function(){var e=this,t=this.state,n=t.offset,a=t.total,i=t.times;return r.createElement(r.Fragment,null,r.createElement("div",{className:"w-row"},r.createElement("div",{className:"w-col w-col-2"},r.createElement("div",{className:"timeslotcolumn"},n>0&&r.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.setState({offset:n-1})},className:"buttontimeslot w-button"},"« Earlier Dates"))),i&&i.map((function(t,a){return a>=n&&a-n<4&&r.createElement("div",{key:JSON.stringify(t||a),className:"w-col w-col-2"},e.renderSlotAvailabilityDate(t,!!t.isTomorrow))})),n+4<a&&r.createElement("div",{className:"w-col w-col-2"},r.createElement("div",{className:"timeslotcolumn"},r.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.setState({offset:n+1})},className:"buttontimeslot w-button"},"Later Dates »")))),this.renderModal())},n.renderSlotAvailabilityDate=function(e,t){var n=this;return r.createElement("div",{className:"timeslotcolumn"},r.createElement("h3",{style:{whiteSpace:"nowrap"}},e.friendlyBegin),e.times?e.times.map((function(e){return r.createElement("a",{key:e.time,href:"#",className:"buttontimeslot "+(e.isAvailable?"":"unavailable ")+"w-button",onClick:function(){return n.pickTime(e,t)}},e.time)})):r.createElement("div",null,"dt.times is ",typeof e.times))},n.pickTime=function(e,t){e.isAvailable&&(t?this.setState({selectedTime:e,showModal:!0}):this.props.onPick(e))},t}(r.Component)},6513:function(e,t,n){n.d(t,{c:function(){return r},e:function(){return i}});var a=n(8007);function r(){var e=sessionStorage.getItem("sessionId")||"";return 0===e.length&&i(),e}function i(){sessionStorage.removeItem("sessionId"),(0,a.oo)("/admin")}},6836:function(e,t){t.A=function(e){if(!e.partitionKey)throw"No partitionKey";if(!e.rowKey)throw"No rowKey";return{resourceId:e.resourceId,serviceType:e.serviceType,serviceLength:e.serviceLength,firstName:e.firstName,lastName:e.lastName,phone:e.phone,email:e.email,address1:e.address1,city:e.city,state:e.state,zip:e.zip,height:e.height,weight:e.weight,reminder:e.reminder,doctorName:e.doctorName,doctorPhone:e.doctorPhone,insuranceCarrier:e.insuranceCarrier,insuranceGroupNumber:e.insuranceGroupNumber,insurancePolicyNumber:e.insurancePolicyNumber,insuranceVerified:e.insuranceVerified,priorAuthObtained:e.priorAuthObtained,orderEnteredToRIS:e.orderEnteredToRIS,patientWasCalled:e.patientWasCalled,confirmed:e.confirmed,orderImageUrl:e.orderImageUrl,insuranceFrontUrl:e.insuranceFrontUrl,insuranceBackUrl:e.insuranceBackUrl,surveyDataJson:e.surveyDataJson,approvedDate:e.approvedDate,submittedDate:e.submittedDate,confirmedDate:e.confirmedDate,birthday:e.birthday,partitionKey:e.partitionKey,rowKey:e.rowKey,timestamp:e.timestamp,safetyWarnings:e.safetyWarnings,eTag:"*"}}},4414:function(e,t,n){n.d(t,{v:function(){return r}});var a=n(6311),r=[];(new a.u8).serviceTypesGET({locationId:""}).then((function(e){return r=e.value||[]}))}}]);
//# sourceMappingURL=0583a6e0ede2fa3ab1d1e7f35d0c8132a6041b23-a2523f6527cb065f572e.js.map