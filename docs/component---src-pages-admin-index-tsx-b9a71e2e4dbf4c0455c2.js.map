{"version":3,"file":"component---src-pages-admin-index-tsx-b9a71e2e4dbf4c0455c2.js","mappings":"8JA4CaA,EACD,CACRC,QAAS,GACTC,MAAO,ICzCLC,GAAkBC,EAAAA,EAAAA,IAAM,OAAAC,OAAA,YAAND,CAAM,6EDkCxB,IEtC4CJ,EAAoBC,QDSnC,OAWnC,EAJ6C,SAAHK,GAAA,IAAMC,EAAQD,EAARC,SAAUC,EAASF,EAATE,UAAS,OACjEC,EAAAA,cAACN,EAAe,CAACK,UAAWA,GAAYD,EAA2B,C,kHEV/DG,EAAU,SAAAC,GACf,SAAAD,EAAYE,EAAOC,GAAU,IAADC,EAEiD,OAD5EA,EAAAH,EAAAI,KAAA,KAAMH,EAAOC,IAAQ,MAChBG,MAAQ,CAACC,KAAM,GAAIC,SAAU,GAAIC,SAAU,GAAIC,UAAW,GAAIC,IAAK,IAAIP,CAC7E,EAACQ,EAAAA,EAAAA,GAAAZ,EAAAC,GAAA,IAAAY,EAAAb,EAAAc,UAkEA,OAlEAD,EAEME,OAAP,WAAiB,IAADC,EAAA,KACf,OACCjB,EAAAA,cAACkB,EAAAA,EAAW,KACZlB,EAAAA,cAACmB,EAAAA,EAAI,KACJnB,EAAAA,cAACoB,EAAAA,EAAS,CAACrB,UAAU,YACpBC,EAAAA,cAAA,UAAI,sBACFqB,KAAKd,MAAMK,KAAO,IAAIU,OAAS,GAAKtB,EAAAA,cAAA,OAAKD,UAAU,oBACnDsB,KAAKd,MAAMK,KAEbZ,EAAAA,cAAA,QAAMuB,OAAO,IAAIC,SAAU,SAACC,GAAC,OAAKR,EAAKS,QAAQD,EAAE,GAChDzB,EAAAA,cAAA,WACE2B,EAAAA,EAAaC,kBACb,iBACAP,KAAKd,MAAME,UACX,SAAAA,GAAQ,OAAIQ,EAAKY,SAAS,CAACpB,SAAAA,GAAU,GACrC,IACA,GACA,GAGAkB,EAAAA,EAAaC,kBACb,WACAP,KAAKd,MAAMG,UACX,SAAAA,GAAQ,OAAIO,EAAKY,SAAS,CAACnB,SAAAA,GAAU,GACrC,IACA,GACA,EACA,aAGFV,EAAAA,cAAA,KAAGD,UAAU,YACZC,EAAAA,cAAA,UAAQ8B,KAAK,SAAS/B,UAAU,mBAAkB,aAKpDC,EAAAA,cAAA,UACCA,EAAAA,cAAA,UACCA,EAAAA,cAAC+B,EAAAA,GAAI,CAACC,GAAG,2BAA0B,oBACnChC,EAAAA,cAAC+B,EAAAA,GAAI,CAACC,GAAG,4BAA2B,yBAO1C,EAAClB,EAEOY,QAAR,SAAgBD,GAAsC,IAADQ,EAAA,KACpDR,EAAES,kBACF,IAAIC,EAAAA,IAAUC,KAAK,CAClBC,UAAW,GACXC,IAAK,CACJC,aAAclB,KAAKd,MAAME,SACzB+B,OAAQnB,KAAKd,MAAMG,YAElB+B,MAAK,SAACC,GACRT,EAAKJ,SAAS,CAAClB,UAAW+B,EAAOF,QAAU,KAC3CG,eAAeC,QAAQ,YAAaF,EAAOF,QAAU,KACrDK,EAAAA,EAAAA,IAAS,cACV,IAAG,SAACjC,GACHqB,EAAKJ,SAAS,CAACjB,IAAK,0BACpB+B,eAAeG,WAAW,YAC3B,GACD,EAAC7C,CAAA,CAtEc,CAASD,EAAAA,WAyEzB,W,mBClEA,IAEI+C,EAAU,WAAY,EA2C1BC,EAAOC,QAAUF,C","sources":["webpack://mri-web/./src/styles/variables.ts","webpack://mri-web/./src/components/Container.tsx","webpack://mri-web/./src/styles/mixins.ts","webpack://mri-web/./src/pages/admin/index.tsx","webpack://mri-web/./node_modules/warning/warning.js"],"sourcesContent":["/* tslint:disable:max-line-length */\n\nexport const colors = {\n  brand: '#663399',\n  lilac: '#9d7cbf',\n  accent: '#ffb238',\n  success: '#37b635',\n  warning: '#ec1818',\n  ui: {\n    bright: '#e0d6eb',\n    light: '#f5f3f7',\n    whisper: '#fbfafc'\n  },\n  code: '#fcf6f0',\n  gray: {\n    dark: 'hsla(270, 17.119554496%, 0%, 0.92)',\n    copy: 'hsla(270, 15.797828016000002%, 0%, 0.88)',\n    calm: 'rgba(0, 0, 0, 0.54)'\n  },\n  white: '#fff',\n  black: '#000'\n};\n\nexport const fonts = {\n  sansSerif:\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif',\n  serif: 'Georgia, \"Times New Roman\", Times, serif',\n  monospace: 'Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace, monospace'\n};\n\nexport const breakpoints = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\n\nexport const widths = {\n  md: 720,\n  lg: 960,\n  xl: 1140\n};\n\nexport const dimensions = {\n  fontSize: {\n    regular: 16,\n    large: 18\n  },\n  headingSizes: {\n    h1: 2.441,\n    h2: 1.953,\n    h3: 1.563,\n    h4: 1.25\n  },\n  lineHeight: {\n    regular: 1.45,\n    heading: 1.2\n  },\n  containerPadding: 1.5\n};\n\nexport const heights = {\n  header: 60\n};\n","import * as React from 'react'\nimport styled from 'react-emotion'\n\nimport { widths } from '../styles/variables'\nimport { getEmSize } from '../styles/mixins'\n\nconst StyledContainer = styled.div`\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  width: auto;\n  max-width: ${getEmSize(widths.lg)}em;\n`\n\ninterface ContainerProps {\n  className?: string\n}\n\nconst Container: React.SFC<ContainerProps> = ({ children, className }) => (\n  <StyledContainer className={className}>{children}</StyledContainer>\n)\n\nexport default Container\n","import { dimensions } from './variables'\n\nexport const getEmSize = (size: number) => size / dimensions.fontSize.regular\n","import * as React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport {EditFormBase} from '../../forms';\n\nimport Page from '../../components/Page'\nimport Container from '../../components/Container'\nimport AdminLayout from '../../layouts/admin'\nimport {AuthApi} from \"../../api/api\";\n\nclass AdminIndex extends React.Component<{}, {name: string, username: string, password: string, sessionId: string, err: string}> {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {name: '', username: '', password: '', sessionId: '', err: ''};\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<AdminLayout>\n\t\t\t<Page>\n\t\t\t\t<Container className=\"centered\">\n\t\t\t\t\t<h1>Restricted Access</h1>\n\t\t\t\t\t{(this.state.err || '').length > 0 && <div className=\"breadcrumb-stack\">\n\t\t\t\t\t\t{this.state.err}\n\t\t\t\t\t</div>}\n\t\t\t\t\t<form action=\"#\" onSubmit={(e) => this.doLogin(e)}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{EditFormBase.boundTextboxValue(\n\t\t\t\t\t\t\t\t'Username/email',\n\t\t\t\t\t\t\t\tthis.state.username,\n\t\t\t\t\t\t\t\tusername => this.setState({username}),\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{EditFormBase.boundTextboxValue(\n\t\t\t\t\t\t\t\t'Password',\n\t\t\t\t\t\t\t\tthis.state.password,\n\t\t\t\t\t\t\t\tpassword => this.setState({password}),\n\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t'password'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"vspace40\">\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"button w-button\">\n\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</form>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/admin/manage-questions\">Manage Questions</Link>\n\t\t\t\t\t\t\t<Link to=\"/admin/manage-time-slots\">Manage Time Slots</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</Container>\n\t\t\t</Page>\n\t\t\t</AdminLayout>\n\t\t);\n\t}\n\n\tprivate doLogin(e: React.FormEvent<HTMLFormElement>) {\n\t\te.preventDefault();\n\t\tnew AuthApi().auth({\n\t\t\tauthToken: '',\n\t\t\treq: {\n\t\t\t\tpartitionKey: this.state.username,\n\t\t\t\tapiKey: this.state.password,\n\t\t\t},\n\t\t}).then((result) => {\n\t\t\tthis.setState({sessionId: result.apiKey || ''});\n\t\t\tsessionStorage.setItem('sessionId', result.apiKey || '');\n\t\t\tnavigate('/admin/site');\n\t\t}, (err) => {\n\t\t\tthis.setState({err: 'Authentication failed'});\n\t\t\tsessionStorage.removeItem('sessionId');\n\t\t});\n\t}\n}\n\nexport default AdminIndex\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n"],"names":["dimensions","regular","large","StyledContainer","styled","target","_ref","children","className","React","AdminIndex","_React$Component","props","context","_this","call","state","name","username","password","sessionId","err","_inheritsLoose","_proto","prototype","render","_this2","AdminLayout","Page","Container","this","length","action","onSubmit","e","doLogin","EditFormBase","boundTextboxValue","setState","type","Link","to","_this3","preventDefault","AuthApi","auth","authToken","req","partitionKey","apiKey","then","result","sessionStorage","setItem","navigate","removeItem","warning","module","exports"],"sourceRoot":""}